(()=>{const e=[{ChemicalName:"Sodium Hydroxide",Vendor:"ChemCo Ltd.",Density:"2.13 ",Viscosity:"78 ",Packaging:"Drum",PackSize:50,Unit:"kg",Quantity:10},{ChemicalName:"Acetic Acid",Vendor:"LabSupplies Inc.",Density:"1.05 ",Viscosity:"1.22 ",Packaging:"Bottle",PackSize:1,Unit:"L",Quantity:25},{ChemicalName:"Benzene",Vendor:"ChemTrade Ltd.",Density:"0.87 ",Viscosity:"0.65 ",Packaging:"Canister",PackSize:20,Unit:"L",Quantity:5},{ChemicalName:"Ethanol",Vendor:"BioChem Corp.",Density:"0.789 ",Viscosity:"1.2 ",Packaging:"Bottle",PackSize:5,Unit:"L",Quantity:40},{ChemicalName:"Hydrogen Peroxide",Vendor:"Reagent Supplies",Density:"1.45 ",Viscosity:"1.245 ",Packaging:"Bottle",PackSize:2,Unit:"L",Quantity:30},{ChemicalName:"Sulfuric Acid",Vendor:"Industrial Chem.",Density:"1.84 ",Viscosity:"26.7 ",Packaging:"Drum",PackSize:100,Unit:"kg",Quantity:8},{ChemicalName:"Ammonium Nitrate",Vendor:"Agro Chemicals",Density:"1.725 ",Viscosity:"1.2 ",Packaging:"Bag",PackSize:25,Unit:"kg",Quantity:15},{ChemicalName:"Methanol",Vendor:"PureChem Ltd.",Density:"0.792 ",Viscosity:"0.59 ",Packaging:"Bottle",PackSize:1,Unit:"L",Quantity:50},{ChemicalName:"Phosphoric Acid",Vendor:"Chem Solutions",Density:"1.685 ",Viscosity:"3.38 ",Packaging:"Canister",PackSize:20,Unit:"L",Quantity:10},{ChemicalName:"Calcium Chloride",Vendor:"Minera Chem",Density:"2.15 ",Viscosity:"1.5 ",Packaging:"Bag",PackSize:25,Unit:"kg",Quantity:20}],t=document.getElementById("table-head"),i=document.getElementById("table-body");let n=-1,a=!1,c=null,s=!1;const l=document.querySelector(".save");l.disabled=!0,l.style.cursor="not-allowed";const r=document.createElement("tr");function o(){i.innerHTML="",e.forEach(((t,s)=>{const l=document.createElement("tr"),r=document.createElement("td");r.innerHTML='<span class="material-symbols-outlined">check</span>',l.appendChild(r),Object.values(t).forEach(((t,i)=>{const n=document.createElement("td");n.innerText=t,n.style.width="10%",l.appendChild(n),n.addEventListener("dblclick",(t=>{t.stopPropagation(),function(t,i,n){if(a)return void alert("Finish the current edit before editing another cell.");const s=e[i],l=document.createElement("input");l.type="number"==typeof s[Object.keys(s)[n]]?"number":"text",l.value=s[Object.keys(s)[n]],l.style.width="90%",l.style.padding="5px",t.innerHTML="",t.appendChild(l),l.focus(),l.addEventListener("blur",(()=>d(l.value,i,n,t))),l.addEventListener("keypress",(e=>{"Enter"===e.key&&d(l.value,i,n,t)})),a=!0,c=l}(n,s,i)}))})),l.addEventListener("click",(()=>function(e){const t=document.querySelectorAll("tbody tr");t.forEach((e=>e.classList.remove("selected"))),t[e].classList.add("selected"),n=e}(s))),i.appendChild(l),s===n&&l.classList.add("selected")}))}function d(t,i,n,s){const l=e[i];if(1===n){if(!/^[A-Za-z\s]+$/.test(t))return void alert("Vendor must contain only letters.");l.Vendor=t}else if(2===n)l.Density=t;else if(3===n)l.Viscosity=t;else if(4===n){if(!/^[A-Za-z\s]+$/.test(t))return void alert("Packaging must contain only letters.");l.Packaging=t}else if(5===n){if(isNaN(t)||""===t.trim())return void alert("Pack Size must be a valid number.");l.PackSize=parseFloat(t)}else if(6===n){if(!/^[A-Za-z\s]+$/.test(t))return void alert("Unit must contain only letters.");l.Unit=t}else if(7===n){if(!Number.isInteger(Number(t)))return void alert("Quantity must be a valid integer.");l.Quantity=parseInt(t)}s.innerText=t,a=!1,c=null,u()}function u(){s=!0,l.disabled=!1,l.style.cursor="pointer"}function m(){s=!1,l.disabled=!0,l.style.cursor="not-allowed"}['<span class="material-symbols-outlined">check</span>',"Chemical Name","Vendor","Density g/m³","Viscosity m²/s ","Packaging","Pack Size","Unit","Quantity"].forEach((e=>{const t=document.createElement("th");t.innerHTML=e,t.style.width="10%",r.appendChild(t)})),t.appendChild(r),document.querySelector(".upward").addEventListener("click",(()=>{n>0&&n<e.length&&([e[n-1],e[n]]=[e[n],e[n-1]],n--,o())})),document.querySelector(".downward").addEventListener("click",(()=>{n>=0&&n<e.length-1&&([e[n+1],e[n]]=[e[n],e[n+1]],n++,o(),u())})),document.querySelector(".delete").addEventListener("click",(()=>{n>=0&&n<e.length&&(e.splice(n,1),n=-1,o(),u())})),document.querySelector(".replay").addEventListener("click",(()=>{o(),m()})),l.addEventListener("click",(()=>{s&&(alert("Data saved successfully!"),m())})),document.querySelector(".circle").addEventListener("click",(()=>{e.push({ChemicalName:"New Chemical",Vendor:"New Vendor",Density:0,Viscosity:0,Packaging:"New Packaging",PackSize:0,Unit:"kg",Quantity:0}),o(),u()})),document.querySelectorAll("th").forEach(((t,i)=>{t.addEventListener("click",(()=>function(t){const i=Object.keys(e[0])[t];e.sort(((e,t)=>"string"==typeof e[i]?e[i].localeCompare(t[i]):e[i]-t[i])),o()}(i)))})),o()})();